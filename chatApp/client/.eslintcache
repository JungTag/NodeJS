[{"/Users/kang/Downloads/kidsfactory/NodeJS/chatApp/client/src/App.js":"1","/Users/kang/Downloads/kidsfactory/NodeJS/chatApp/client/src/components/Join/Join.js":"2","/Users/kang/Downloads/kidsfactory/NodeJS/chatApp/client/src/components/Chat/Chat.js":"3","/Users/kang/Downloads/kidsfactory/NodeJS/chatApp/client/src/index.js":"4","/Users/kang/Downloads/kidsfactory/NodeJS/chatApp/client/src/components/InfoBar/InfoBar.js":"5","/Users/kang/Downloads/kidsfactory/NodeJS/chatApp/client/src/components/Messages/Message/Message.js":"6","/Users/kang/Downloads/kidsfactory/NodeJS/chatApp/client/src/components/Input/Input.js":"7","/Users/kang/Downloads/kidsfactory/NodeJS/chatApp/client/src/components/Messages/Messages.js":"8","/Users/kang/Downloads/kidsfactory/NodeJS/chatApp/client/src/components/TextContainer/TextContainer.js":"9","/Users/kang/Downloads/kidsfactory/NodeJS/chatApp/client/src/api.js":"10"},{"size":453,"mtime":1609749723638,"results":"11","hashOfConfig":"12"},{"size":1732,"mtime":1609896527411,"results":"13","hashOfConfig":"12"},{"size":2251,"mtime":1609910533632,"results":"14","hashOfConfig":"12"},{"size":160,"mtime":1609376044051,"results":"15","hashOfConfig":"12"},{"size":516,"mtime":1609490818137,"results":"16","hashOfConfig":"12"},{"size":970,"mtime":1609564672275,"results":"17","hashOfConfig":"12"},{"size":520,"mtime":1609550504240,"results":"18","hashOfConfig":"12"},{"size":390,"mtime":1609550520553,"results":"19","hashOfConfig":"12"},{"size":1006,"mtime":1609567413371,"results":"20","hashOfConfig":"12"},{"size":329,"mtime":1609812787099,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"dl87f7",{"filePath":"24","messages":"25","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26","usedDeprecatedRules":"27"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"31"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48"},"/Users/kang/Downloads/kidsfactory/NodeJS/chatApp/client/src/App.js",["49"],"/Users/kang/Downloads/kidsfactory/NodeJS/chatApp/client/src/components/Join/Join.js",["50","51"],"import React, { useState } from 'react';\nimport { Link } from \"react-router-dom\";\nimport api from '../../api'\nimport './Join.css';\nimport { useHistory } from \"react-router-dom\";\n\nexport default function SignIn() {\n  const [name, setName] = useState('');\n  const [password, setPassword] = useState('');\n  const [room, setRoom] = useState('');\n  const history = useHistory()\n\n  const handleLogin = async (e) => {\n\n    try {\n      const result = await api.login({ email: name, password: password })\n      history.push(`/chat?name=${name}&room=${room}`);\n    } catch (err) {\n      alert('잘못된 아이디')\n    }\n\n\n  }\n  return (\n    <div className=\"joinOuterContainer\">\n      <div className=\"joinInnerContainer\">\n        <h1 className=\"heading\">Join</h1>\n        <div>\n          <input placeholder=\"Name\" className=\"joinInput\" type=\"text\" onChange={(event) => setName(event.target.value)} />\n        </div>\n        <div>\n          <input placeholder=\"Password\" className=\"joinInput\" type=\"password\" onChange={(event) => setPassword(event.target.value)}\n          />\n        </div>\n        <div>\n          <input placeholder=\"Room\" className=\"joinInput mt-20\" type=\"text\"\n            onChange={(event) => setRoom(event.target.value)}\n          />\n        </div>\n        {/* <Link\n          onClick={e => (!name || !room || !password) ? e.preventDefault() : handleLogin()} to={`/chat?name=${name}&room=${room}`}>\n          <button id={\"enterButton\"} className={'button mt-20'} type=\"submit\">Sign In</button>\n        </Link> */}\n        <button id={\"enterButton\"} className={'button mt-20'} type=\"submit\" onClick={e => (!name || !room || !password) ? e.preventDefault() : handleLogin()} >Sign In</button>\n      </div>\n    </div>\n  );\n}",["52","53"],"/Users/kang/Downloads/kidsfactory/NodeJS/chatApp/client/src/components/Chat/Chat.js",["54"],"import React, { useState, useEffect } from \"react\";\nimport queryString from 'query-string';\nimport io from \"socket.io-client\";\nimport cd from 'react-cookies'\n\nimport TextContainer from '../TextContainer/TextContainer';\nimport Messages from '../Messages/Messages';\nimport InfoBar from '../InfoBar/InfoBar';\nimport Input from '../Input/Input';\nimport './Chat.css';\n\n\n\n\nlet socket;\n\nconst Chat = ({ location }) => {\n  const [name, setName] = useState('');\n  const [room, setRoom] = useState('');\n  const [users, setUsers] = useState('');\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n\n  const ENDPOINT = \"localhost:5000\";\n  useEffect(() => {\n    const { name, room } = queryString.parse(location.search);\n\n    socket = io(ENDPOINT, {\n      transports: ['websocket'],\n      path: '/chatSocket',\n      forceNew: true\n    });\n    socket.emit('connection', {})\n    setRoom(room);\n    setName(name)\n    socket.emit('join', { name, room }, () => {\n    });\n    return () => {\n      // socket.emit('disconnect', () => {\n      //   console.log('end')\n      // });\n      // socket.off()\n      socket.disconnect()\n\n    }\n  }, []\n    //  [ENDPOINT, location.search]\n  );\n  console.log(messages)\n  useEffect(() => {\n    socket.on('message', (message) => {\n      setMessages((messages) => [...messages, message]);\n    });\n    socket.on(\"roomData\", ({ users }) => {\n      setUsers(users);\n    });\n    socket.on('newTokens', ({ accessToken, refreshToken }) => {\n      // cd.remove(\"refreshToken\")\n      cd.save(\"refreshToken\", refreshToken, { maxAge: 60 * 24 });\n      cd.save(\"accessToken\", accessToken, { maxAge: 10 });\n\n    })\n    // const result = api.test(document.cookie)\n  }, []);\n\n  const sendMessage = (event) => {\n    event.preventDefault();\n\n    if (message) {\n      socket.emit('sendMessage', { message, cookies: document.cookie }, () => setMessage(''));\n    }\n  }\n  return (\n    <div className=\"outerContainer\">\n      <div className=\"container\">\n        <InfoBar room={room} />\n        <Messages messages={messages} name={name} />\n        <Input message={message} setMessage={setMessage} sendMessage={sendMessage} />\n\n      </div>\n      <TextContainer users={users} />\n    </div>\n\n  );\n}\n\nexport default Chat;",["55","56"],"/Users/kang/Downloads/kidsfactory/NodeJS/chatApp/client/src/index.js",[],"/Users/kang/Downloads/kidsfactory/NodeJS/chatApp/client/src/components/InfoBar/InfoBar.js",[],["57","58"],"/Users/kang/Downloads/kidsfactory/NodeJS/chatApp/client/src/components/Messages/Message/Message.js",[],"/Users/kang/Downloads/kidsfactory/NodeJS/chatApp/client/src/components/Input/Input.js",[],["59","60"],"/Users/kang/Downloads/kidsfactory/NodeJS/chatApp/client/src/components/Messages/Messages.js",[],"/Users/kang/Downloads/kidsfactory/NodeJS/chatApp/client/src/components/TextContainer/TextContainer.js",[],"/Users/kang/Downloads/kidsfactory/NodeJS/chatApp/client/src/api.js",["61"],"import axios from \"axios\"\n\naxios.defaults.baseURL = \"http://localhost:5000\"\naxios.defaults.withCredentials = true\n\nexport default {\n  async login(data) {\n    let status = await axios.post('/api/auth/login', data)\n    return status\n  },\n  async test() {\n    let status = await axios.get('/api/auth/test')\n    return status\n  }\n\n\n}",{"ruleId":"62","severity":1,"message":"63","line":7,"column":10,"nodeType":"64","messageId":"65","endLine":7,"endColumn":25},{"ruleId":"62","severity":1,"message":"66","line":2,"column":10,"nodeType":"64","messageId":"65","endLine":2,"endColumn":14},{"ruleId":"62","severity":1,"message":"67","line":16,"column":13,"nodeType":"64","messageId":"65","endLine":16,"endColumn":19},{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","replacedBy":"71"},{"ruleId":"72","severity":1,"message":"73","line":46,"column":6,"nodeType":"74","endLine":46,"endColumn":8,"suggestions":"75"},{"ruleId":"68","replacedBy":"76"},{"ruleId":"70","replacedBy":"77"},{"ruleId":"68","replacedBy":"78"},{"ruleId":"70","replacedBy":"79"},{"ruleId":"68","replacedBy":"80"},{"ruleId":"70","replacedBy":"81"},{"ruleId":"82","severity":1,"message":"83","line":6,"column":1,"nodeType":"84","endLine":17,"endColumn":2},"no-unused-vars","'CookiesProvider' is defined but never used.","Identifier","unusedVar","'Link' is defined but never used.","'result' is assigned a value but never used.","no-native-reassign",["85"],"no-negated-in-lhs",["86"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'location.search'. Either include it or remove the dependency array.","ArrayExpression",["87"],["85"],["86"],["85"],["86"],["85"],["86"],"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","no-global-assign","no-unsafe-negation",{"desc":"88","fix":"89"},"Update the dependencies array to be: [location.search]",{"range":"90","text":"91"},[1160,1162],"[location.search]"]